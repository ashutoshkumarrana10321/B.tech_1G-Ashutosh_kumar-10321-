<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; 
            justify-content: center; height: 100vh; margin: 0; transition: background 0.3s; }
            #box { width: 300px; height: 200px; border: 3px dashed #333; display: flex; align-items: center; 
            justify-content: center; border-radius: 15px; text-align: center; background: white; }
        .controls { margin-top: 20px; }
        button { padding: 10px 20px; cursor: pointer; border-radius: 5px; border: none; background: #007bff;
             color: white; font-weight: bold; }
        button.stop { background: #dc3545; }
    </style>
</head>
<body>

    <div id="box">
        <p id="status">Move your mouse here <br> or press any key!</p>
    </div>

    <div class="controls">
        <button id="toggleBtn">Stop Interacting</button>
    </div>

    <script>
        const box = document.getElementById('box');
        const status = document.getElementById('status');
        const btn = document.getElementById('toggleBtn');
        let active = true;

        const interactions = {
            mousemove: (e) => {
                const x = e.offsetX, y = e.offsetY;
                box.style.transform = `perspective(500px) rotateX(${(y - 100) / 10}deg) rotateY(${(x - 150) / 10}deg)`;
                status.innerText = `Mouse: ${x}, ${y}`;
            },
            keydown: (e) => {
                document.body.style.backgroundColor = `hsl(${e.keyCode * 2}, 60%, 80%)`;
                status.innerHTML = `Key Pressed: <strong>${e.key}</strong>`;
            }
        };

        function toggleListeners() {
            const action = active ? 'removeEventListener' : 'addEventListener';
          
            Object.entries(interactions).forEach(([event, func]) => {
               
                const target = event === 'keydown' ? window : box;
                target[action](event, func);
            });

            active = !active;
            btn.innerText = active ? "Stop Interacting" : "Start Interacting";
            btn.className = active ? "" : "stop";
            if(!active) {
                box.style.transform = "none";
                document.body.style.backgroundColor = "white";
                status.innerText = "Listeners Removed!";
            }
        }

        btn.addEventListener('click', toggleListeners);
        toggleListeners(); 
    </script>
</body>
</html>